<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Diagn√≥stico de placa</title>
  <link rel="stylesheet" href="style.css">
</head>

  <body>
  <!-- Pantalla de carga -->
  <div id="preloader">
    <div class="loading-container">
      <div class="percentage" id="percentage">0%</div>
      <div class="progress-bar"><div class="progress-fill" id="progressFill"></div></div>
    </div>
  </div>

  <!-- Login -->
  <div id="loginContainer">
    <h1>Diagn√≥stico de Placa</h1>
    <button id="loginBtn" onclick="login()">Acceder con Google</button>
  </div>

  <!-- Top bar -->
  <div class="top-bar">
    <span id="emailText"></span>
    <button id="logoutBtn" onclick="logout()" style="display:none;">Cerrar sesi√≥n</button>
  </div>

 <div class="wrapper">
    
  <!-- Contenido principal -->
  <div id="appContent" style="display:none; flex-direction: column; align-items: center; width: 100%;">
    <h1>Diagn√≥stico de Placa</h1>

    <div class="button-container" id="mainMenu">
      <button onclick="mostrarComoUsar()">C√≥mo usar</button>
      <button onclick="mostrarFallas()">Inicio - Ver fallas</button>
      <button onclick="mostrarContacto()">Contacto - Soporte</button>
      <button onclick="toggleTheme()">Modo Claro / Oscuro</button>

    </div>

    <div class="button-container" id="usoMenu" style="display:none;">
      <button onclick="volverA('main')">‚Üê Volver</button>
      <h2>¬øC√≥mo usar la lista?</h2>
      <div class="response-box static justificado">
         La lista est√° hecha de forma simple: le das a inicio, y seleccion√°s el problema que ves en tu equipo.
        Te van a salir los pasos a seguir para verificar el funcionamiento BASE. Indic√°s si es correcta o incorrecta su medici√≥n, y seguis el siguiente paso o medici√≥n.<br><br>
        Record√° que si los valores de medici√≥n est√°n alterados "hacia arriba" o "hacia abajo" Tiene su significado.
        Lo mismo si se encuentra un corto, fuga, componente da√±ado, Desoldado, etc.<br><br>
        En muchos casos, la lista te indicar√° d√≥nde deber√≠as revisar, el componente que podr√≠a generar la falla y/o las mediciones a realizar. 
        Est√° en el t√©cnico decidir qu√© hacer ;)
        <div class="response-box static justificado">
                    ‚ö†Ô∏è DISCLAIMER ‚ö†Ô∏è <br><br><br> 
        La herramienta te indica lo que PUEDE o PODR√çA estar fallando. Es una Gu√≠a para Revisar componentes y ayudar a encarar una falla. <br><br>
        No te asegura hacer una reparaci√≥n, o un diagn√≥stico. Pero si te ayudan a estar encaminado para encontrarla. <br><br>
        Las reparaciones, costos de reparaci√≥n y diagn√≥stico como siempre, corresponden a la responsabilidad y 
        trabajo de cada servicio t√©cnico o t√©cnico encargado del dispositivo en cuesti√≥n.
      </div>
    </div>

    <div class="button-container" id="fallasMenu" style="display:none;">
      <button onclick="volverA('main')">‚Üê Volver</button>
      <button onclick="showResponse('No enciende')">No enciende</button>
      <button onclick="showResponse('No tiene sonido')">No tiene sonido</button>
      <button onclick="showResponse('No puedo hacer llamadas')">No puedo hacer llamadas</button>
      <button onclick="showResponse('El tel√©fono se calienta')">El tel√©fono se calienta</button>
      <button onclick="showResponse('Mi celular se apaga solo')">Mi celular se apaga solo</button>


    </div>
    
<div class="button-container" id="contactoMenu" style="display:none;">
  <button onclick="volverA('main')">‚Üê Volver</button>
  <h2>Contacto - Soporte</h2>
  <div style="background-color: #00c3ff; color: #000; padding: 10px; border-radius: 5px; box-shadow: 0 0 15px #00ff00; margin-top: 10px;">
    üìû WhatsApp: 
    <a href="https://wa.me/5491127222169" target="_blank" style="color: #000; text-decoration: underline;">
      https://wa.me/5491127222169
    </a>
  </div>

  <div style="background-color: #00c3ff; color: #000; padding: 10px; border-radius: 5px; box-shadow: 0 0 15px #00ff00; margin-top: 10px;">
    ü§ù Te gustar√≠a Colaborar?: <strong>Hac√© tu aporte enviando al whatsapp fallas, soluciones o ideas que tenga para que la lista crezca! <br><br> Tambi√©n si necesit√°s ayuda o ten√©s algun inconveniente con la lista, te podemos ayudar ;)</strong>
  </div>
</div>


    <div class="button-container" id="respuestas" style="display:none;"></div>

    <!-- Bot√≥n flotante home -->
    <button id="backBtn" class="back-button" onclick="goToHome()">
      <svg viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>
    </button>

    <!-- Footer -->
    <div class="footer">
      <img src="PEG√Å TU IMAGEN AC√Å" alt="Logo">
      <div>Powered by Novacell Repairs</div>
      <div>By Lucas M. Tuillier</div>
    </div>
  </div>

    <!-- Scripts de Firebase -->
<script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-auth.js"></script>

<script>
  // Configuraci√≥n de tu proyecto (copiado desde Firebase Console)
  const firebaseConfig = {
    apiKey: "AIzaSyAq9IhfWEVyt-Cf-mWcwuF3JfuqAlc0k8I",
    authDomain: "lista-fallas.firebaseapp.com",
    projectId: "lista-fallas",
    storageBucket: "lista-fallas.appspot.com",
    messagingSenderId: "255303348505",
    appId: "1:255303348505:web:c37b826c44080117b94a95"
  };

  // Inicializar Firebase
  firebase.initializeApp(firebaseConfig);
</script>

    <script>
  const provider = new firebase.auth.GoogleAuthProvider();

  function loginWithGoogle() {
    firebase.auth().signInWithPopup(provider)
      .then((result) => {
        const user = result.user;
        document.getElementById('user-info').textContent = `Bienvenido, ${user.displayName}`;
        document.getElementById('login-button').style.display = 'none';
        document.getElementById('logout-button').style.display = 'inline-block';
      })
      .catch((error) => {
        console.error("Error al iniciar sesi√≥n:", error);
        alert("Hubo un error al iniciar sesi√≥n. Revis√° la consola para m√°s detalles.");
      });
  }

  function logout() {
    firebase.auth().signOut()
      .then(() => {
        document.getElementById('user-info').textContent = '';
        document.getElementById('login-button').style.display = 'inline-block';
        document.getElementById('logout-button').style.display = 'none';
      })
      .catch((error) => {
        console.error("Error al cerrar sesi√≥n:", error);
        alert("Hubo un error al cerrar sesi√≥n. Revis√° la consola para m√°s detalles.");
      });
  }
</script>

    
  <!-- Scripts -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js";
    import { getAuth, signInWithPopup, GoogleAuthProvider, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-auth.js";

    const firebaseConfig = {
    apiKey: "AIzaSyD29DiaYJ1s3GeOSJKquL2jElp8NVoXAII",
    authDomain: "login-de-diagnostico-de-placa.firebaseapp.com",
    projectId: "login-de-diagnostico-de-placa",
    storageBucket: "login-de-diagnostico-de-placa.firebasestorage.app",
    messagingSenderId: "248604555689",
    appId: "1:248604555689:web:f0f0f226bd8cd377dd6cb8"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth();
    const provider = new GoogleAuthProvider();

    window.login = () => signInWithPopup(auth, provider).catch(error => alert("Error al iniciar sesi√≥n: " + error.message));
    window.logout = () => signOut(auth);

    onAuthStateChanged(auth, user => {
      const loginContainer = document.getElementById("loginContainer");
      const appContent = document.getElementById("appContent");
      const emailText = document.getElementById("emailText");
      const logoutBtn = document.getElementById("logoutBtn");

      if (user) {
        loginContainer.style.display = "none";
        appContent.style.display = "flex";
        appContent.classList.add("hud-appear");
        emailText.textContent = user.email;
        logoutBtn.style.display = "inline-block";
      } else {
        loginContainer.style.display = "flex";
        appContent.style.display = "none";
        logoutBtn.style.display = "none";
        emailText.textContent = "";
      }
    });
  </script>


<script>
    const respuestasPorFalla = {
      "No enciende": [
        ["Revisar bater√≠a", "Medir bater√≠a para saber si funciona."],
        ["Bot√≥n de encendido", "Verificar si el bot√≥n funciona correctamente."],
        ["Placa base", "Posible falla de alimentaci√≥n o cortocircuito."]
      ],
      "No tiene sonido": [
        ["Altavoz", "Probar el parlante con otro equipo."],
        ["Conectores", "Verificar si est√°n sulfatados o desconectados."],
        ["Placa base", "Fallo en circuito de audio."]
      ],
      "No puedo hacer llamadas": [
        ["Estado del IMEI", "Verificar si el equipo fue dado de baja."],
        ["Chip", "Probar con otro chip o limpiar la bandeja."],
        ["Se√±al", "Revisar si toma se√±al correctamente."]
      ],
      "El tel√©fono se calienta": [
        ["Bater√≠a", "Puede estar defectuosa o vieja."],
        ["Apps en segundo plano", "Cerrar procesos que usen muchos recursos."],
        ["Mantenimiento", "Limpiar placa, cambiar pasta t√©rmica."]
      ],

      "Mi celular se apaga solo": [
        ["Boton de encendido", "Puede estar en corto o da√±ado"],
        ["Bater√≠a", "Conector de bater√≠a da√±ado o bater√≠a en mal estado"],
        ["Placa Madre", "Cortocircuito o placa da√±ada"]
      ]
    };

function showResponse(falla) {
  ocultarTodo();
  const respuestas = document.getElementById("respuestas");
  respuestas.style.display = "flex";
  void respuestas.offsetWidth;
  respuestas.classList.add("hud-appear");
  respuestas.innerHTML = `<button onclick="volverA('fallas')">‚Üê Volver</button><h2>${falla}</h2>`;

  if (respuestasPorFalla[falla]) {
    respuestasPorFalla[falla].forEach(([titulo, descripcion]) => {
      
      const btn = document.createElement("button");
      btn.textContent = titulo;
      btn.onclick = () => {
      respuestas.querySelectorAll(".response-box.dynamic").forEach(e => e.remove());
        
        const box = document.createElement("div");
        box.className = "response-box hud-appear dynamic";
        box.innerHTML = `‚û° ${descripcion}`;
        respuestas.appendChild(box);
      };
      respuestas.appendChild(btn);
    });
  }
}
  
function mostrarComoUsar() {
  ocultarTodo();
  const uso = document.getElementById("usoMenu");
  uso.style.display = "flex";
  requestAnimationFrame(() => {
    uso.classList.add("hud-appear");
  });
}

document.addEventListener('contextmenu', event => event.preventDefault());

function mostrarFallas() {
  ocultarTodo();
  const fallas = document.getElementById("fallasMenu");
  fallas.style.display = "flex";
  requestAnimationFrame(() => {
    fallas.classList.add("hud-appear");
  });
}


function mostrarContacto() {
  ocultarTodo();
  const contacto = document.getElementById("contactoMenu");
  contacto.style.display = "flex";
  requestAnimationFrame(() => {
    contacto.classList.add("hud-appear");
  });
}

function volverA(seccion) {
  ocultarTodo();
  const destino = seccion === "main" ? "mainMenu" : "fallasMenu";
  const menu = document.getElementById(destino);
  menu.style.display = "flex";
  requestAnimationFrame(() => {
    menu.classList.add("hud-appear");
  });
}

function toggleTheme() {
    document.body.classList.toggle('light-mode');
  }

function goToHome() {
      volverA("main");
    }

function ocultarTodo() {
      ["mainMenu", "usoMenu", "fallasMenu", "respuestas", "contactoMenu"].forEach(id => {
        const el = document.getElementById(id);
        el.style.display = "none";
      });
      document.getElementById("respuestas").innerHTML = "";
    }

    const preloader = document.getElementById("preloader");
    const fill = document.getElementById("progressFill");
    const percentText = document.getElementById("percentage");
    const smoothProgress = [1, 5, 10, 20, 35, 50, 65, 80, 90, 100];
    let index = 0;

    window.onload = () => setTimeout(updateProgress, 200);

    function updateProgress() {
      if (index < smoothProgress.length) {
        const value = smoothProgress[index];
        fill.style.width = value + "%";
        percentText.textContent = value + "%";
        index++;
        setTimeout(updateProgress, 100);
      } else {
        percentText.classList.add("flash");
        fill.classList.add("flash");
        setTimeout(() => {
          preloader.style.display = "none";
          const appContent = document.getElementById("appContent");
          appContent.classList.add("hud-appear");
        }, 500);
      }
    }
  </script>
</body>
</html>






